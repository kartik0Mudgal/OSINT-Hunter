<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CyberTrace OSINT</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 50%, #16213e 100%);
            color: #ffffff;
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        /* Navbar Styles */
        .navbar {
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(10px);
            padding: 15px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
        }
        
        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 20px;
        }
        
        .nav-brand {
            font-size: 1.5rem;
            font-weight: bold;
            background: linear-gradient(45deg, #00ff88, #00ccff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-decoration: none;
        }
        
        .nav-menu {
            display: flex;
            list-style: none;
            gap: 30px;
        }
        
        .nav-item {
            cursor: pointer;
            padding: 10px 15px;
            border-radius: 8px;
            transition: all 0.3s ease;
            text-decoration: none;
            color: rgba(255, 255, 255, 0.8);
        }
        
        .nav-item:hover, .nav-item.active {
            background: rgba(0, 255, 136, 0.1);
            color: #00ff88;
        }
        
        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        /* Page Sections */
        .page-section {
            display: none;
            animation: fadeIn 0.5s ease-in-out;
        }
        
        .page-section.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .header {
            text-align: center;
            margin-bottom: 40px;
            padding: 30px 0;
        }
        
        .header h1 {
            font-size: 3rem;
            background: linear-gradient(45deg, #00ff88, #00ccff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
            animation: glow 2s ease-in-out infinite alternate;
        }
        
        @keyframes glow {
            from { filter: drop-shadow(0 0 20px rgba(0, 255, 136, 0.3)); }
            to { filter: drop-shadow(0 0 30px rgba(0, 204, 255, 0.5)); }
        }
        
        .subtitle {
            font-size: 1.2rem;
            opacity: 0.8;
            margin-bottom: 20px;
        }
        
        .status-banner {
            background: rgba(255, 165, 0, 0.1);
            border: 1px solid rgba(255, 165, 0, 0.3);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 20px;
            text-align: center;
            transition: all 0.3s ease;
        }
        
        .status-connected {
            background: rgba(0, 255, 136, 0.1);
            border-color: rgba(0, 255, 136, 0.3);
        }
        
        .search-section {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .search-form {
            display: flex;
            gap: 15px;
            align-items: end;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .form-group {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }
        
        .form-group label {
            font-size: 0.9rem;
            opacity: 0.8;
        }
        
        .search-input {
            padding: 15px 20px;
            font-size: 1.1rem;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            color: #ffffff;
            width: 300px;
            outline: none;
            transition: all 0.3s ease;
        }
        
        .search-input:focus {
            border-color: #00ff88;
            box-shadow: 0 0 20px rgba(0, 255, 136, 0.3);
        }
        
        .search-btn {
            padding: 15px 30px;
            background: linear-gradient(45deg, #00ff88, #00ccff);
            border: none;
            border-radius: 10px;
            color: #000;
            font-weight: bold;
            cursor: pointer;
            font-size: 1.1rem;
            transition: all 0.3s ease;
        }
        
        .search-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(0, 255, 136, 0.3);
        }
        
        .search-btn:disabled {
            background: #333;
            color: #666;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .checkbox-group {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .progress-section {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
            display: none;
        }
        
        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 15px;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #00ff88, #00ccff);
            width: 0%;
            transition: width 0.3s ease;
        }
        
        .progress-text {
            text-align: center;
            opacity: 0.8;
        }
        
        .results {
            display: none;
        }
        
        .stats {
            background: rgba(0, 255, 136, 0.1);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
            text-align: center;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin-top: 15px;
        }
        
        .stat-item {
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
        }
        
        .stat-number {
            font-size: 2rem;
            font-weight: bold;
            color: #00ff88;
        }
        
        .platforms-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 20px;
        }
        
        .platform-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 25px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
            min-height: fit-content;
        }
        
        .platform-card:hover {
            transform: translateY(-5px);
            border-color: #00ff88;
            box-shadow: 0 15px 40px rgba(0, 255, 136, 0.1);
        }
        
        .platform-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .platform-icon {
            width: 50px;
            height: 50px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            font-weight: bold;
            color: white;
            flex-shrink: 0;
        }
        
        .platform-name {
            font-size: 1.4rem;
            font-weight: bold;
            word-wrap: break-word;
        }
        
        .profile-item {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 12px;
            transition: all 0.3s ease;
            overflow: hidden;
        }
        
        .profile-item:hover {
            background: rgba(255, 255, 255, 0.1);
        }
        
        .profile-link {
            color: #00ccff;
            text-decoration: none;
            font-weight: 500;
            display: block;
            margin-bottom: 8px;
            word-break: break-all;
            overflow-wrap: anywhere;
            line-height: 1.4;
        }
        
        .profile-link:hover {
            color: #00ff88;
        }
        
        .profile-details {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            font-size: 0.9rem;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .profile-status {
            display: flex;
            align-items: center;
            gap: 5px;
            flex-wrap: wrap;
        }
        
        .status-badge {
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: bold;
            white-space: nowrap;
        }
        
        .status-found { background: rgba(0, 255, 136, 0.2); color: #00ff88; }
        .status-likely-exists { background: rgba(255, 193, 7, 0.2); color: #ffc107; }
        .status-error { background: rgba(255, 107, 107, 0.2); color: #ff6b6b; }
        
        .response-time {
            opacity: 0.7;
            font-size: 0.8rem;
            white-space: nowrap;
        }
        
        .no-results {
            text-align: center;
            padding: 40px;
            opacity: 0.7;
        }
        
        .export-btn {
            margin-left: 10px;
            padding: 10px 20px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            color: #fff;
            cursor: pointer;
            font-size: 0.9rem;
            border: none;
        }
        
        .export-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        /* About Page Styles */
        .about-content {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 30px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            line-height: 1.8;
        }

        .about-content h2 {
            color: #00ff88;
            margin-bottom: 20px;
            font-size: 2rem;
        }

        .about-content h3 {
            color: #00ccff;
            margin: 25px 0 15px 0;
            font-size: 1.3rem;
        }

        .about-content p {
            margin-bottom: 15px;
            opacity: 0.9;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .feature-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            text-align: center;
        }

        .feature-icon {
            font-size: 2rem;
            margin-bottom: 10px;
        }

        /* Hero Section */
        .hero-section {
            background: linear-gradient(135deg, rgba(0, 255, 136, 0.1) 0%, rgba(0, 204, 255, 0.1) 100%);
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 30px;
            text-align: center;
            border: 1px solid rgba(0, 255, 136, 0.2);
        }

        .hero-title {
            font-size: 2.5rem;
            background: linear-gradient(45deg, #00ff88, #00ccff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 15px;
            font-weight: bold;
        }

        .hero-description {
            font-size: 1.2rem;
            opacity: 0.9;
            margin-bottom: 25px;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            line-height: 1.6;
        }

        .feature-highlights {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .highlight-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 25px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
            text-align: center;
        }

        .highlight-card:hover {
            transform: translateY(-5px);
            border-color: #00ff88;
            box-shadow: 0 15px 40px rgba(0, 255, 136, 0.1);
        }

        .highlight-icon {
            font-size: 3rem;
            margin-bottom: 15px;
            display: block;
        }

        .highlight-title {
            font-size: 1.3rem;
            font-weight: bold;
            color: #00ff88;
            margin-bottom: 10px;
        }

        .highlight-description {
            opacity: 0.8;
            line-height: 1.5;
        }

        .stats-preview {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            text-align: center;
        }

        .stats-preview h3 {
            color: #00ccff;
            margin-bottom: 20px;
            font-size: 1.5rem;
        }

        .preview-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
        }

        .preview-stat {
            padding: 15px;
            background: rgba(0, 255, 136, 0.1);
            border-radius: 10px;
            border: 1px solid rgba(0, 255, 136, 0.2);
        }

        .preview-number {
            font-size: 2rem;
            font-weight: bold;
            color: #00ff88;
            margin-bottom: 5px;
        }

        .preview-label {
            font-size: 0.9rem;
            opacity: 0.8;
        }

        .getting-started {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
        }

        .getting-started h3 {
            color: #00ccff;
            margin-bottom: 15px;
            font-size: 1.4rem;
        }

        .steps-list {
            list-style: none;
            padding: 0;
        }

        .steps-list li {
            padding: 10px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .steps-list li:last-child {
            border-bottom: none;
        }

        .step-number {
            background: linear-gradient(45deg, #00ff88, #00ccff);
            color: #000;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            flex-shrink: 0;
        }

        @media (max-width: 768px) {
            .hero-title {
                font-size: 2rem;
            }
            
            .hero-description {
                font-size: 1.1rem;
            }
            
            .feature-highlights {
                grid-template-columns: 1fr;
            }
        }
        



        
        /* Responsive Design */
        @media (max-width: 768px) {
            .nav-menu {
                display: none;
                position: absolute;
                top: 100%;
                left: 0;
                width: 100%;
                background: rgba(0, 0, 0, 0.95);
                flex-direction: column;
                padding: 20px;
                border-top: 1px solid rgba(255, 255, 255, 0.1);
            }
            
            .nav-menu.active {
                display: flex;
            }
            
            .mobile-menu-btn {
                display: block;
            }
            
            .header h1 { 
                font-size: 2rem; 
            }
            
            .search-form { 
                flex-direction: column; 
                align-items: stretch; 
            }
            
            .search-input { 
                width: 100%; 
            }
            
            .platforms-grid { 
                grid-template-columns: 1fr; 
            }
            
            .platform-card {
                min-width: 0;
            }
            
            .profile-details {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .profile-status {
                margin-bottom: 5px;
            }
        }

        /* Hide empty platforms */
        .platform-card:empty {
            display: none;
        }
    </style>
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar">
        <div class="nav-container">
            <a href="#" class="nav-brand">CyberTrace OSINT</a>
            <ul class="nav-menu" id="navMenu">
                <li><a href="#" class="nav-item active" onclick="showPage('home')">üè† Home</a></li>
                <li><a href="#" class="nav-item" onclick="showPage('about')">‚ÑπÔ∏è About</a></li>
            </ul>
            <button class="mobile-menu-btn" id="mobileMenuBtn">‚ò∞</button>
        </div>
    </nav>

    <div class="container">
        <!-- Home Page -->
        <div id="homePage" class="page-section active">
            <div class="header">
                <h1>Username Hunter</h1>
                <p class="subtitle">Real-time profile verification across platforms</p>
                <div class="status-banner" id="statusBanner">
                    <strong>‚ö†Ô∏è Connecting to backend...</strong> Checking server status...
                </div>
            </div>

            <!-- Hero Section -->
            <div class="hero-section">
                <h2 class="hero-title">Advanced OSINT Reconnaissance</h2>
                <p class="hero-description">
                    Discover digital footprints across 20+ platforms with real-time verification, 
                    advanced analytics, and comprehensive reporting capabilities.
                </p>
            </div>

            <!-- Feature Highlights -->
            <div class="feature-highlights">
                <div class="highlight-card">
                    <span class="highlight-icon">üåê</span>
                    <h4 class="highlight-title">Multi-Platform Coverage</h4>
                    <p class="highlight-description">
                        Simultaneously search across social media, development platforms, 
                        gaming services, and professional networks.
                    </p>
                </div>
                <div class="highlight-card">
                    <span class="highlight-icon">‚ö°</span>
                    <h4 class="highlight-title">Lightning Fast</h4>
                    <p class="highlight-description">
                        Parallel processing ensures rapid results with average response 
                        times under 2 seconds per platform.
                    </p>
                </div>
                <div class="highlight-card">
                    <span class="highlight-icon">üîç</span>
                    <h4 class="highlight-title">Smart Detection</h4>
                    <p class="highlight-description">
                        Advanced algorithms analyze response patterns to determine 
                        profile existence with high accuracy.
                    </p>
                </div>
            </div>

            <!-- Platform Statistics Preview -->
            <div class="stats-preview">
                <h3>Platform Coverage</h3>
                <div class="preview-stats">
                    <div class="preview-stat">
                        <div class="preview-number">20+</div>
                        <div class="preview-label">Platforms</div>
                    </div>
                    <div class="preview-stat">
                        <div class="preview-number">95%</div>
                        <div class="preview-label">Accuracy</div>
                    </div>
                    <div class="preview-stat">
                        <div class="preview-number">&lt;2s</div>
                        <div class="preview-label">Avg Speed</div>
                    </div>
                    <div class="preview-stat">
                        <div class="preview-number">CSV</div>
                        <div class="preview-label">Export</div>
                    </div>
                </div>
            </div>

            <!-- Quick Start Guide -->
            <div class="getting-started">
                <h3>üöÄ Quick Start Guide</h3>
                <ul class="steps-list">
                    <!-- <li>
                        <span class="step-number">1</span>
                        <!-- <span>Ensure your backend server (osint_backend.py) is running on localhost:5000</span> -->
                    </li> 
                    <li>
                        <span class="step-number">1</span>
                        <span>Enter the target username in the search field below</span>
                    </li>
                    <li>
                        <span class="step-number">2</span>
                        <span>Enable "Include variations" to check common username modifications</span>
                    </li>
                    <li>
                        <span class="step-number">3</span>
                        <span>Click "Verify & Hunt" and watch real-time results populate</span>
                    </li>
                    <li>
                        <span class="step-number">4</span>
                        <span>Export results to CSV for further analysis and reporting</span>
                    </li>
                </ul>
            </div>
            
            <div class="search-section">
                <form class="search-form" id="searchForm">
                    <div class="form-group">
                        <label for="username">Username</label>
                        <input type="text" id="username" class="search-input" placeholder="Enter username to investigate" required>
                    </div>
                    
                    <div class="checkbox-group">
                        <input type="checkbox" id="includeVariations" checked>
                        <label for="includeVariations">Include variations</label>
                    </div>
                    
                    <button type="submit" class="search-btn" id="searchBtn">
                        üîç Verify & Hunt
                    </button>
                </form>
            </div>
            
            <div class="progress-section" id="progressSection">
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                <div class="progress-text" id="progressText">Starting verification...</div>
            </div>
            
            <div class="results" id="results">
                <div class="stats" id="stats">
                    <h3>Verification Results</h3>
                    <div class="stats-grid">
                        <div class="stat-item">
                            <div class="stat-number" id="totalFound">0</div>
                            <div>Profiles Found</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-number" id="platformsChecked">0</div>
                            <div>Platforms Checked</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-number" id="avgResponseTime">0ms</div>
                            <div>Avg Response Time</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-number" id="scanTime">0s</div>
                            <div>Total Scan Time</div>
                        </div>
                    </div>
                    <button class="export-btn" onclick="exportResults()">üì• Export Results</button>
                </div>
                
                <div class="platforms-grid" id="platformsGrid"></div>
                
                <div class="no-results" id="noResults" style="display: none;">
                    <h3>No verified profiles found</h3>
                    <p>Try a different username or check the results manually</p>
                </div>
            </div>
        </div>

        <!-- About Page -->
        <div id="aboutPage" class="page-section">
            <div class="about-content">
                <h2>About CyberTrace OSINT</h2>
                <p>
                    CyberTrace OSINT is a powerful reconnaissance tool designed for cybersecurity professionals, 
                    researchers, and digital investigators. Our platform enables real-time username verification 
                    across multiple social media platforms and online services.
                </p>

                <h3>üéØ Key Features</h3>
                <div class="feature-grid">
                    <div class="feature-card">
                        <div class="feature-icon">üîç</div>
                        <h4>Multi-Platform Search</h4>
                        <p>Search across 20+ popular platforms including GitHub, Instagram, Twitter, LinkedIn, and more.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">‚ö°</div>
                        <h4>Real-Time Verification</h4>
                        <p>Get instant verification results with confidence scores and response times.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">üìä</div>
                        <h4>Detailed Analytics</h4>
                        <p>Comprehensive statistics and exportable reports for your investigations.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">üîí</div>
                        <h4>Privacy Focused</h4>
                        <p>All searches are performed locally with no data stored on external servers.</p>
                    </div>
                </div>

                <h3>üõ†Ô∏è Technical Specifications</h3>
                <p>
                    <strong>Backend:</strong> Python Flask with async HTTP requests<br>
                    <strong>Frontend:</strong> Modern HTML5, CSS3, and vanilla JavaScript<br>
                    <strong>Platforms Supported:</strong> GitHub, Instagram, Twitter/X, Facebook, LinkedIn, TikTok, 
                    Reddit, Pinterest, Steam, YouTube, and many more<br>
                    <strong>Export Formats:</strong> CSV for further analysis
                </p>

                <h3>‚öñÔ∏è Ethical Use</h3>
                <p>
                    This tool is designed for legitimate cybersecurity research, digital forensics, and 
                    threat intelligence gathering. Users are responsible for ensuring compliance with 
                    applicable laws and platform terms of service. Always respect privacy and use this 
                    tool responsibly.
                </p>

                <h3>üöÄ Getting Started</h3>
                <p>
                    To use CyberTrace OSINT, ensure you have the Flask backend running. 
                    Simply enter a username in the search field and let our system verify its presence 
                    across multiple platforms in real-time.
                </p>
            </div>
        </div>
    </div>

    <script>
        let searchResults = [];
        // Auto-detect if we're running locally or on production
        const BACKEND_URL = window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1' 
            ? 'http://localhost:5000' 
            : window.location.origin;
        
        // Platform styles for display
        const platformStyles = {
            'GitHub': { color: '#333', icon: '‚ö°' },
            'Instagram': { color: '#e4405f', icon: 'üì∑' },
            'Twitter/X': { color: '#1da1f2', icon: 'üê¶' },
            'Facebook': { color: '#1877f2', icon: 'üë•' },
            'LinkedIn': { color: '#0077b5', icon: 'üíº' },
            'TikTok': { color: '#ff0050', icon: 'üéµ' },
            'Reddit': { color: '#ff4500', icon: 'üî¥' },
            'Pinterest': { color: '#bd081c', icon: 'üìå' },
            'GitLab': { color: '#fc6d26', icon: 'ü¶ä' },
            'CodePen': { color: '#000', icon: '‚úèÔ∏è' },
            'Stack Overflow': { color: '#f48024', icon: '‚ùì' },
            'Replit': { color: '#667881', icon: 'üîß' },
            'Steam': { color: '#1b2838', icon: 'üéÆ' },
            'Twitch': { color: '#9146ff', icon: 'üì∫' },
            'Behance': { color: '#1769ff', icon: 'üé®' },
            'Dribbble': { color: '#ea4c89', icon: 'üèÄ' },
            'Medium': { color: '#000', icon: 'üìù' },
            'YouTube': { color: '#ff0000', icon: 'üìπ' },
            'SoundCloud': { color: '#ff3300', icon: 'üéµ' },
            'DeviantArt': { color: '#05cc47', icon: 'üé®' }
        };

        // Navigation Functions
        function showPage(pageId) {
            // Hide all pages
            document.querySelectorAll('.page-section').forEach(page => {
                page.classList.remove('active');
            });
            
            // Show selected page
            document.getElementById(pageId + 'Page').classList.add('active');
            
            // Update nav items
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // Close mobile menu
            document.getElementById('navMenu').classList.remove('active');
        }

        // Mobile menu toggle
        document.getElementById('mobileMenuBtn').addEventListener('click', () => {
            document.getElementById('navMenu').classList.toggle('active');
        });
        
        // Check if backend is available
        async function checkBackendStatus() {
            try {
                const response = await fetch(`${BACKEND_URL}/api/health`);
                return response.ok;
            } catch (error) {
                return false;
            }
        }
        
        // Update progress bar
        function updateProgress(percentage, text) {
            document.getElementById('progressFill').style.width = percentage + '%';
            document.getElementById('progressText').textContent = text;
        }
        
        // Display results
        function displayResults(data) {
            document.getElementById('progressSection').style.display = 'none';
            document.getElementById('results').style.display = 'block';
            
            // Update statistics
            document.getElementById('totalFound').textContent = data.total_found;
            document.getElementById('platformsChecked').textContent = data.platforms_checked;
            document.getElementById('avgResponseTime').textContent = data.avg_response_time + 'ms';
            
            const platformsGrid = document.getElementById('platformsGrid');
            const noResults = document.getElementById('noResults');
            
            if (data.total_found === 0) {
                platformsGrid.innerHTML = '';
                noResults.style.display = 'block';
                return;
            }
            
            noResults.style.display = 'none';
            
            // Group results by category
            const categories = {};
            data.results.forEach(result => {
                if (!categories[result.category]) {
                    categories[result.category] = [];
                }
                categories[result.category].push(result);
            });
            
            platformsGrid.innerHTML = '';
            
            Object.entries(categories).forEach(([categoryName, profiles]) => {
                if (profiles.length === 0) return; // Skip empty categories
                
                const categoryCard = document.createElement('div');
                categoryCard.className = 'platform-card';
                
                // Group by platform within category
                const platforms = {};
                profiles.forEach(profile => {
                    if (!platforms[profile.platform]) {
                        platforms[profile.platform] = [];
                    }
                    platforms[profile.platform].push(profile);
                });
                
                const platformsList = Object.entries(platforms).map(([platformName, platformProfiles]) => {
                    const style = platformStyles[platformName] || { color: '#666', icon: 'üîó' };
                    
                    return platformProfiles.map(profile => `
                        <div class="profile-item">
                            <div class="platform-header">
                                <div class="platform-icon" style="background: ${style.color};">
                                    ${style.icon}
                                </div>
                                <div style="flex: 1; min-width: 0;">
                                    <div class="platform-name">${platformName}</div>
                                    <div style="font-size: 0.9rem; opacity: 0.7; word-wrap: break-word;">@${profile.username}</div>
                                </div>
                            </div>
                            <a href="${profile.url}" target="_blank" class="profile-link">
                                ${profile.url}
                            </a>
                            <div class="profile-details">
                                <div class="profile-status">
                                    <span class="status-badge status-${profile.status.replace('_', '-')}">
                                        ${profile.status === 'found' ? '‚úì Verified' : 
                                          profile.status === 'likely_exists' ? '‚ö† Likely Exists' : 
                                          '? Unknown'}
                                    </span>
                                    <span style="margin-left: 10px; font-size: 0.8rem; opacity: 0.7;">
                                        ${profile.confidence}% confidence
                                    </span>
                                </div>
                                <div class="response-time">${profile.response_time}ms</div>
                            </div>
                            ${profile.note ? `<div style="font-size: 0.8rem; opacity: 0.6; margin-top: 5px; word-wrap: break-word;">${profile.note}</div>` : ''}
                        </div>
                    `).join('');
                }).join('');
                
                categoryCard.innerHTML = `
                    <h3 style="margin-bottom: 20px; color: #00ff88; word-wrap: break-word;">${categoryName}</h3>
                    ${platformsList}
                `;
                
                platformsGrid.appendChild(categoryCard);
            });
        }
        
        // Export results to CSV
        function exportResults() {
            if (searchResults.length === 0) {
                alert('No results to export');
                return;
            }
            
            const csv = [
                ['Platform', 'Category', 'Username', 'URL', 'Status', 'Confidence', 'Response Time', 'Notes'],
                ...searchResults.map(r => [
                    r.platform, r.category, r.username, r.url, 
                    r.status, r.confidence + '%', r.response_time + 'ms', r.note || ''
                ])
            ].map(row => row.map(cell => `"${cell}"`).join(',')).join('\n');
            
            const blob = new Blob([csv], { type: 'text/csv' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `osint-results-${new Date().toISOString().split('T')[0]}.csv`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            window.URL.revokeObjectURL(url);
        }
        
        // Main search function
        async function searchUsername(username, includeVariations) {
            const startTime = Date.now();
            
            // Show progress section
            document.getElementById('progressSection').style.display = 'block';
            document.getElementById('results').style.display = 'none';
            
            updateProgress(10, 'Checking backend connection...');
            
            // Check if backend is available
            const backendAvailable = await checkBackendStatus();
            if (!backendAvailable) {
                document.getElementById('progressSection').style.display = 'none';
                alert('‚ùå Backend not available!\n\nPlease:\n1. Make sure osint_backend.py is running\n2. Check that it\'s running on http://localhost:5000\n3. Install dependencies if needed');
                return;
            }
            
            updateProgress(25, 'Backend connected! Starting username verification...');
            
            try {
                const response = await fetch(`${BACKEND_URL}/api/search`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        username: username,
                        includeVariations: includeVariations
                    })
                });
                
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                
                updateProgress(75, 'Processing verification results...');
                
                const data = await response.json();
                searchResults = data.results;
                
                // Calculate scan time
                const scanTime = ((Date.now() - startTime) / 1000).toFixed(1);
                document.getElementById('scanTime').textContent = scanTime + 's';
                
                updateProgress(100, 'Verification complete!');
                
                setTimeout(() => {
                    displayResults(data);
                }, 500);
                
            } catch (error) {
                document.getElementById('progressSection').style.display = 'none';
                console.error('Search error:', error);
                alert('‚ùå Search failed!\n\nError: ' + error.message + '\n\nPlease check:\n1. Backend is running on localhost:5000\n2. All dependencies are installed\n3. No firewall blocking the connection');
            }
        }
        
        // Form submission handler
        document.getElementById('searchForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            
            const username = document.getElementById('username').value.trim();
            const includeVariations = document.getElementById('includeVariations').checked;
            
            if (!username) {
                alert('Please enter a username');
                return;
            }
            
            if (username.length < 2) {
                alert('Username should be at least 2 characters long');
                return;
            }
            
            const searchBtn = document.getElementById('searchBtn');
            searchBtn.disabled = true;
            searchBtn.textContent = 'üîç Verifying...';
            
            try {
                await searchUsername(username, includeVariations);
            } finally {
                searchBtn.disabled = false;
                searchBtn.textContent = 'üîç Verify & Hunt';
            }
        });
        
        // Initialize on page load
        document.addEventListener('DOMContentLoaded', async () => {
            // Set example placeholder
            document.getElementById('username').placeholder = 'e.g., johndoe, alice_smith, developer123';
            
            // Check backend status on load
            const statusBanner = document.getElementById('statusBanner');
            const available = await checkBackendStatus();
            
            if (available) {
                statusBanner.innerHTML = '<strong>‚úÖ Backend Connected!</strong> Real-time profile verification is active.';
                statusBanner.className = 'status-banner status-connected';
            } else {
                statusBanner.innerHTML = '<strong>‚ùå Backend Disconnected!</strong> Please start osint_backend.py on localhost:5000';
            }
        });
    </script>
</body>
</html>